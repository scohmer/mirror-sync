# Mirror Sync Global Configuration
# This file provides default settings for all mirror sync operations
# Override any setting via environment variables or local config files

# ========== Global Settings ==========
PROJECT_ROOT="${PROJECT_ROOT:-/opt/mirror-sync}"
BASE_LOG_DIR="${BASE_LOG_DIR:-${PROJECT_ROOT}/logs}"
BASE_MIRROR_DIR="${BASE_MIRROR_DIR:-/srv/mirrors}"

# Container runtime (podman or docker)
CONTAINER_RUNTIME="${CONTAINER_RUNTIME:-podman}"

# Global resource limits
DEFAULT_MEMORY_LIMIT="${DEFAULT_MEMORY_LIMIT:-4g}"
DEFAULT_CPU_LIMIT="${DEFAULT_CPU_LIMIT:-2.0}"
DEFAULT_TIMEOUT="${DEFAULT_TIMEOUT:-12h}"

# Network and performance
DEFAULT_THREADS="${DEFAULT_THREADS:-20}"
NICE_LEVEL="${NICE_LEVEL:-10}"
IO_SCHEDULING_CLASS="${IO_SCHEDULING_CLASS:-best-effort}"
IO_SCHEDULING_PRIORITY="${IO_SCHEDULING_PRIORITY:-7}"

# ========== Debian Configuration ==========
DEBIAN_IMAGE="${DEBIAN_IMAGE:-debian-mirror:latest}"
DEBIAN_TARGET="${DEBIAN_TARGET:-${BASE_MIRROR_DIR}/debian}"
DEBIAN_SUITES="${DEBIAN_SUITES:-bullseye bookworm trixie}"
DEBIAN_ARCHS="${DEBIAN_ARCHS:-amd64,i386}"
DEBIAN_INCLUDE_UPDATES="${DEBIAN_INCLUDE_UPDATES:-true}"
DEBIAN_INCLUDE_BACKPORTS="${DEBIAN_INCLUDE_BACKPORTS:-true}"
DEBIAN_INCLUDE_SOURCES="${DEBIAN_INCLUDE_SOURCES:-true}"
DEBIAN_METADATA_ONLY="${DEBIAN_METADATA_ONLY:-false}"

# ========== Ubuntu Configuration ==========
UBUNTU_IMAGE="${UBUNTU_IMAGE:-ubuntu-mirror:latest}"
UBUNTU_TARGET="${UBUNTU_TARGET:-${BASE_MIRROR_DIR}/ubuntu}"
UBUNTU_VERSIONS="${UBUNTU_VERSIONS:-20.04 22.04 24.04 25.04}"
UBUNTU_ARCHS="${UBUNTU_ARCHS:-amd64,i386}"
UBUNTU_INCLUDE_UPDATES="${UBUNTU_INCLUDE_UPDATES:-true}"
UBUNTU_INCLUDE_BACKPORTS="${UBUNTU_INCLUDE_BACKPORTS:-true}"
UBUNTU_INCLUDE_SOURCES="${UBUNTU_INCLUDE_SOURCES:-true}"
UBUNTU_METADATA_ONLY="${UBUNTU_METADATA_ONLY:-false}"
UBUNTU_MIRROR="${UBUNTU_MIRROR:-http://archive.ubuntu.com/ubuntu}"
UBUNTU_SECURITY_MIRROR="${UBUNTU_SECURITY_MIRROR:-http://security.ubuntu.com/ubuntu}"

# ========== Rocky Linux Configuration ==========
ROCKY_IMAGE="${ROCKY_IMAGE:-rocky-mirror:latest}"
ROCKY_TARGET="${ROCKY_TARGET:-${BASE_MIRROR_DIR}/rocky}"
ROCKY_VERSIONS="${ROCKY_VERSIONS:-8 9 10}"
ROCKY_ARCHES="${ROCKY_ARCHES:-x86_64}"
ROCKY_REPOS="${ROCKY_REPOS:-AppStream BaseOS Devel Extras Plus PowerTools}"
ROCKY_UPSTREAM_BASE="${ROCKY_UPSTREAM_BASE:-https://dl.rockylinux.org/pub/rocky}"
ROCKY_KEEP_OLD="${ROCKY_KEEP_OLD:-false}"
ROCKY_NEWEST_ONLY="${ROCKY_NEWEST_ONLY:-true}"

# ========== Monitoring & Alerting ==========
DISK_USAGE_THRESHOLD="${DISK_USAGE_THRESHOLD:-85}"
ENABLE_NOTIFICATIONS="${ENABLE_NOTIFICATIONS:-false}"
NOTIFICATION_EMAIL="${NOTIFICATION_EMAIL:-}"
SLACK_WEBHOOK_URL="${SLACK_WEBHOOK_URL:-}"

# ========== Cleanup Settings ==========
AUTO_CLEANUP_OLD_IMAGES="${AUTO_CLEANUP_OLD_IMAGES:-true}"
KEEP_IMAGE_VERSIONS="${KEEP_IMAGE_VERSIONS:-3}"
LOG_RETENTION_DAYS="${LOG_RETENTION_DAYS:-30}"